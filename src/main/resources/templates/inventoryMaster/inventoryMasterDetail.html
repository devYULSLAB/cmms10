<!DOCTYPE html>
<!--
패키지: com.cmms10.inventoryMaster
파일: inventoryMasterDetail.html
프로그램명: 재고 마스터 상세정보 출력
주요기능: 재고(InventoryMaster) 상세정보 출력 전용 화면
생성자: cmms10
생성일: 2024-03-19
-->
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{layout/defaultLayout}">

<head>
    <title>재고 마스터 상세정보</title>
</head>

<body>
    <div layout:fragment="content" class="content-area">
        <div class="max-w-5xl mx-auto p-4">

            <h2 class="text-2xl font-bold mb-4" th:text="#{inventoryMasterDetail}">재고 마스터 상세 정보</h2>

            <!-- 기본 정보 섹션 -->
            <div class="border rounded-lg p-4 shadow mb-6">
                <h5 class="text-lg font-semibold mb-4" th:text="#{basicInformation}">기본 정보</h5>
                <div class="grid grid-cols-12 gap-4">
                    <div class="col-span-3">
                        <label class="block text-sm font-medium" th:text="#{inventoryId}">재고 ID:</label>
                        <span class="block text-sm" th:text="${inventoryMaster.inventoryId}"></span>
                    </div>
                    <div class="col-span-9">
                        <label class="block text-sm font-medium" th:text="#{inventoryName}">재고명:</label>
                        <span class="block text-sm" th:text="${inventoryMaster.inventoryName}"></span>
                    </div>
                </div>
                <div class="grid grid-cols-12 gap-4 mt-4">
                    <div class="col-span-3">
                        <label class="block text-sm font-medium" th:text="#{respDept}">담당 부서:</label>
                        <span class="block text-sm" th:text="${inventoryMaster.respDept}"></span>
                    </div>
                    <div class="col-span-3">
                        <label class="block text-sm font-medium" th:text="#{assetType}">자산 유형:</label>
                        <span class="block text-sm" th:text="${inventoryMaster.assetType}"></span>
                    </div>
                    <div class="col-span-6">
                        <label class="block text-sm font-medium" th:text="#{companyId}">회사 ID:</label>
                        <span class="block text-sm" th:text="${inventoryMaster.companyId}"></span>
                    </div>
                </div>
            </div>

            <!-- 제조사 정보 섹션 -->
            <div class="border rounded-lg p-4 shadow mb-6">
                <h5 class="text-lg font-semibold mb-4" th:text="#{manufacturerInformation}">제조사 정보</h5>
                <div class="grid grid-cols-12 gap-4">
                    <div class="col-span-3">
                        <label class="block text-sm font-medium" th:text="#{manufacturer}">제조사:</label>
                        <span class="block text-sm" th:text="${inventoryMaster.manufacturer}"></span>
                    </div>
                    <div class="col-span-3">
                        <label class="block text-sm font-medium" th:text="#{manufacturerModel}">모델명:</label>
                        <span class="block text-sm" th:text="${inventoryMaster.manufacturerModel}"></span>
                    </div>
                    <div class="col-span-3">
                        <label class="block text-sm font-medium" th:text="#{manufacturerSN}">시리얼 번호:</label>
                        <span class="block text-sm" th:text="${inventoryMaster.manufacturerSN}"></span>
                    </div>
                    <div class="col-span-3">
                        <label class="block text-sm font-medium" th:text="#{manufacturerSpec}">규격:</label>
                        <span class="block text-sm" th:text="${inventoryMaster.manufacturerSpec}"></span>
                    </div>
                </div>
            </div>

            <!-- 메모 섹션 -->
            <div class="border rounded-lg p-4 shadow mb-6">
                <h5 class="text-lg font-semibold mb-4" th:text="#{note}">메모</h5>
                <div class="grid grid-cols-12 gap-4">
                    <div class="col-span-12">
                        <label class="block text-sm font-medium" th:text="#{note}">메모:</label>
                        <span class="block text-sm" th:text="${inventoryMaster.note}"></span>
                    </div>
                </div>
                <div class="grid grid-cols-12 gap-4 mt-4">
                    <div class="col-span-6">
                        <label class="block text-sm font-medium" th:text="#{fileGroupId}">파일 그룹 ID:</label>
                        <span class="block text-sm" th:text="${inventoryMaster.fileGroupId}"></span>
                    </div>
                </div>
            </div>

            <!-- 하단 버튼 -->
            <div class="flex space-x-4 mt-6 non-print-section">
                <a th:href="@{/inventoryMaster/inventoryMasterList}"
                    class="px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600" th:text="#{cancel}">
                    목록으로
                </a>
                <button onclick="printInventoryDetail()"
                    class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">
                    <i class="fas fa-print mr-2"></i><span th:text="#{print}">출력</span>
                </button>
            </div>

            <!-- 인쇄용 스타일 -->
            <style>
                @media print {

                    /* 인쇄 시 숨길 요소들 */
                    .no-print {
                        display: none !important;
                    }

                    /* 레이아웃 숨김 */
                    header,
                    nav,
                    footer,
                    .sidebar {
                        display: none !important;
                    }

                    /* 인쇄용 레이아웃 */
                    body {
                        margin: 0 !important;
                        padding: 20px !important;
                        font-size: 12px !important;
                        background: white !important;
                    }

                    /* content 영역만 표시 */
                    .content-area {
                        margin: 0 !important;
                        padding: 0 !important;
                        max-width: none !important;
                        width: 100% !important;
                    }

                    .print-container {
                        max-width: none !important;
                        margin: 0 !important;
                        padding: 0 !important;
                    }

                    /* 인쇄용 헤더 */
                    .print-header {
                        text-align: center;
                        margin-bottom: 20px;
                        border-bottom: 2px solid #000;
                        padding-bottom: 10px;
                    }

                    /* 인쇄용 섹션 스타일 */
                    .print-section {
                        margin-bottom: 15px;
                        page-break-inside: avoid;
                    }

                    .print-section h5 {
                        background-color: #f0f0f0 !important;
                        padding: 5px;
                        margin-bottom: 10px;
                        font-weight: bold;
                    }

                    /* 인쇄용 그리드 */
                    .print-grid {
                        display: grid;
                        grid-template-columns: repeat(12, 1fr);
                        gap: 10px;
                        margin-bottom: 10px;
                    }

                    .print-col-3 {
                        grid-column: span 3;
                    }

                    .print-col-6 {
                        grid-column: span 6;
                    }

                    .print-col-9 {
                        grid-column: span 9;
                    }

                    .print-col-12 {
                        grid-column: span 12;
                    }

                    /* 인쇄용 라벨과 값 */
                    .print-label {
                        font-weight: bold;
                        margin-bottom: 2px;
                    }

                    .print-value {
                        margin-bottom: 8px;
                    }

                    /* 인쇄 시 관련정보 섹션 숨김 */
                    .non-print-section {
                        display: none !important;
                    }
                }
            </style>

            <!-- 인쇄용 컨테이너 (숨김) -->
            <div id="printContainer" class="no-print print-container" style="display: none;">
                <!-- 인쇄용 헤더 추가 -->
                <div class="print-header">
                    <h1>재고 마스터 상세 정보</h1>
                    <p>출력일시: <span id="printDateTime"></span></p>
                </div>
                <!-- 기본정보 섹션 -->
                <div class="print-grid">
                    <div class="print-col-3">
                        <div class="print-label">재고 ID:</div>
                        <div class="print-value" th:text="${inventoryMaster.inventoryId}"></div>
                    </div>
                    <div class="print-col-9">
                        <div class="print-label">재고명:</div>
                        <div class="print-value" th:text="${inventoryMaster.inventoryName}"></div>
                    </div>
                </div>
                <div class="print-grid">
                    <div class="print-col-3">
                        <div class="print-label">담당 부서:</div>
                        <div class="print-value" th:text="${inventoryMaster.respDept}"></div>
                    </div>
                    <div class="print-col-3">
                        <div class="print-label">자산 유형:</div>
                        <div class="print-value" th:text="${inventoryMaster.assetType}"></div>
                    </div>
                    <div class="print-col-6">
                        <div class="print-label">회사 ID:</div>
                        <div class="print-value" th:text="${inventoryMaster.companyId}"></div>
                    </div>
                </div>

                <!-- 제조사 정보 섹션 -->
                <div class="print-section">
                    <h5>제조사 정보</h5>
                    <div class="print-grid">
                        <div class="print-col-3">
                            <div class="print-label">제조사:</div>
                            <div class="print-value" th:text="${inventoryMaster.manufacturer}"></div>
                        </div>
                        <div class="print-col-3">
                            <div class="print-label">모델명:</div>
                            <div class="print-value" th:text="${inventoryMaster.manufacturerModel}"></div>
                        </div>
                        <div class="print-col-3">
                            <div class="print-label">시리얼 번호:</div>
                            <div class="print-value" th:text="${inventoryMaster.manufacturerSN}"></div>
                        </div>
                        <div class="print-col-3">
                            <div class="print-label">규격:</div>
                            <div class="print-value" th:text="${inventoryMaster.manufacturerSpec}"></div>
                        </div>
                    </div>
                </div>

                <!-- 메모 섹션 -->
                <div class="print-section">
                    <h5>메모</h5>
                    <div class="print-grid">
                        <div class="print-col-12">
                            <div class="print-label">메모:</div>
                            <div class="print-value" th:text="${inventoryMaster.note}"></div>
                        </div>
                    </div>
                    <div class="print-grid">
                        <div class="print-col-6">
                            <div class="print-label">파일 그룹 ID:</div>
                            <div class="print-value" th:text="${inventoryMaster.fileGroupId}"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 페이지별 JavaScript -->
    <th:block layout:fragment="page-js">
        <script>
            function printInventoryDetail() {
                // 현재 날짜시간 설정
                const now = new Date();
                const dateTimeStr = now.getFullYear() + '-' +
                    String(now.getMonth() + 1).padStart(2, '0') + '-' +
                    String(now.getDate()).padStart(2, '0') + ' ' +
                    String(now.getHours()).padStart(2, '0') + ':' +
                    String(now.getMinutes()).padStart(2, '0');

                // printDateTime 요소가 존재하는지 확인 후 설정
                const printDateTimeElement = document.getElementById('printDateTime');
                if (printDateTimeElement) {
                    printDateTimeElement.textContent = dateTimeStr;
                }

                // 인쇄용 컨테이너를 화면에 표시
                const printContainer = document.getElementById('printContainer');
                if (printContainer) {
                    printContainer.style.display = 'block';

                    // 인쇄 실행
                    window.print();

                    // 인쇄 후 인쇄용 컨테이너 숨김
                    setTimeout(() => {
                        printContainer.style.display = 'none';
                    }, 100);
                }
            }
        </script>
    </th:block>
</body>

</html>